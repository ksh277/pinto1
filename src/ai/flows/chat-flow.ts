
'use server';
/**
 * @fileOverview A simple chat flow for the AI assistant.
 *
 * - chat - A function that takes a user's message and returns a response.
 */

import { ai } from '@/ai/genkit';
import { z } from 'zod';

const prompt = ai.definePrompt({
  name: 'chatbotPrompt',
  input: { schema: z.string() },
  prompt: `You are a friendly and helpful customer support agent for a custom goods printing company called "Pinto".

Your knowledge is based on the following information:
- We sell custom goods like acrylic keyrings, smart-toks, stickers, etc.
- Minimum order quantity for most items is 10 units.
- We offer discounts on bulk orders.
- Users can use the "Goods Editor" to design their products.
- We support Korean, English, Japanese, and Chinese.

Here is the product list. Prices are in KRW.

### π“¦ μ•„ν¬λ¦΄ (Acrylic)

**ν¬λ…μ•„ν¬λ¦΄**
- ν¬λ…μ•„ν¬λ¦΄: 1200μ›
- ν¬λ…μ•„ν¬λ¦΄2: 1300μ›
- ν¬λ…μ•„ν¬λ¦΄3: 1500μ›

**ν•ν”„λ―Έλ¬ μ•„ν¬λ¦΄**
- ν•ν”„λ―Έλ¬ μ•„ν¬λ¦΄: 1700μ›
- ν•ν”„λ―Έλ¬ μ•„ν¬λ¦΄2: 1800μ›
- ν•ν”„λ―Έλ¬ μ•„ν¬λ¦΄3: 1600μ›

**κΈ€λ¦¬ν„° μ•„ν¬λ¦΄**
- κΈ€λ¦¬ν„° μ•„ν¬λ¦΄: 1200μ›
- κΈ€λ¦¬ν„° μ•„ν¬λ¦΄2: 1250μ›
- κΈ€λ¦¬ν„° μ•„ν¬λ¦΄3: 1700μ›

**μ μƒ‰/ν¬λ…μ»¬λ¬/μ•„μ¤ν…” μ•„ν¬λ¦΄**
- μ μƒ‰/ν¬λ…μ»¬λ¬/μ•„μ¤ν…” μ•„ν¬λ¦΄: 1200μ›
- μ μƒ‰/ν¬λ…μ»¬λ¬/μ•„μ¤ν…” μ•„ν¬λ¦΄2: 1350μ›
- μ μƒ‰/ν¬λ…μ»¬λ¬/μ•„μ¤ν…” μ•„ν¬λ¦΄3: 1750μ›

**μκ° μ•„ν¬λ¦΄**
- μκ° μ•„ν¬λ¦΄: 1200μ›
- μκ° μ•„ν¬λ¦΄2: 1400μ›
- μκ° μ•„ν¬λ¦΄3: 1800μ›

**μ½”λ΅―ν† **
- μλ¦½ν• λ‘κΊΌμ΄ μ•„ν¬λ¦΄ μ¤νƒ λ“ μ½”λ΅―ν†  (8T/9T): 1700μ›
- λ’¤λ„λ°” μ½”λ΅―ν†  μλ¦½ν• λ‘κΊΌμ΄ μ•„ν¬λ¦΄ μ¤νƒ λ“ (10T): 2300μ›
- μ…μ²΄ν• μ½”λ΅―ν†  μλ¦½ν• λ‘κΊΌμ΄ μ•„ν¬λ¦΄ μ¤νƒ λ“ (10T): 2300μ›
- λ ν‹°νλ¬ μ½”λ΅―ν†  λ‘κΊΌμ΄ μ•„ν¬λ¦΄μ¤νƒ λ“: 2600μ›

**μ¤λ§νΈν†΅**
- λ ν‹°νλ¬ μ•„ν¬λ¦΄ μ¤λ§νΈν†΅: 2300μ›
- νμ „ μ¤ν•€ μ•„ν¬λ¦΄ μ¤λ§νΈν†΅: 1900μ›
- μ•Όκ΄‘ μ΄‰κ΄‘ μ•„ν¬λ¦΄ μ¤λ§νΈν†΅: 1700μ›
- λ®¤νΈμ»¬λ¬ νμ¤ν…” λ¬΄κ΄‘ μ•„ν¬λ¦΄ μ¤λ§νΈν†΅: 1600μ›
- λ”λ‘κΊΌμ΄ ν¬λ… μ•„ν¬λ¦΄ μ¤λ§νΈν†΅: 2200μ›
- λ”λ‘κΊΌμ΄ ν•ν”„λ―Έλ¬ μ¤λ§νΈν†΅: 2700μ›
- ν™€λ΅κ·Έλ¨ μ¤λ§νΈν†΅: 2200μ›
- κ²¨μΈ μ¤λ§νΈν†΅: 2200μ›
- μ•„ν¬λ¦΄ μ¤λ§νΈν†΅: 1900μ›

**μ¤νƒ λ“/λ””μ¤λΌλ§**
- μμ¨ν• μ¤νƒ λ“: 1300μ›
- μ΅°λ¦½ν• μ•„ν¬λ¦΄ μ¤νƒ λ“: 4000μ›
- λλ ¤λλ ¤ μ¤ν•€ μ•„ν¬λ¦΄ μ¤νƒ λ“: 1600μ›
- λ ν‹°νλ¬ μ•„ν¬λ¦΄ μ¤νƒ λ“: 1900μ›
- λ”ν°μ¤νƒ λ“: 5700μ›
- ν™€λ΅κ·Έλ¨ κΉ¨μ§„μ λ¦¬ κ²©μλ¬΄λ¬: 1900μ›
- μ•„ν¬λ¦΄ λ””μ¤λΌλ§ 3λ©΄ μ¤νƒ λ“: 4200μ›
- νμ „ μΊλ¦­ν„° μ¤νƒ λ“: 8200μ›
- μ•„ν¬λ¦΄ μ•κ²½ μ¤νƒ λ“ κ±°μΉλ€: 14600μ›
- μ•„ν¬λ¦΄ν† νΌ/ν¬ν† ν”„λ΅­: 2000μ›

**ν¬μΉ΄ν™€λ”/ν¬ν† μ•΅μ**
- ν¬μΉ΄ν™€λ” λ¶€μ°©ν•: 3000μ›
- ν¬μΉ΄ν™€λ” μμ ν•: 4300μ›
- νμ „ ν¬μΉ΄ν™€λ”: 8000μ›
- ν¬μΉ΄ν™€λ” ν‚¤λ§: 2800μ›
- ν™€λ” λ¶€μ°©ν• μ¦μ‚¬ν™€λ”: 2000μ›
- ν¬ν† μ•΅μ ν•ν”„λ―Έλ¬ μ•„ν¬λ¦΄: 2300μ›
- ν¬μΉ΄ν™€λ” κ³ μ •ν• ν…ν”λ¦Ώ: 3000μ›
- ν¬ν† μ•΅μ ν¬λ…μ•„ν¬λ¦΄: 1500μ›

**μ•„ν¬λ¦΄ μ‰μ΄μ»¤**
- DIY μ¤ν” μ¤λƒ… λ¦¬λ²³ ν‚¤λ§: 2900μ›
- μ•„ν¬λ¦΄ μ‰μ΄μ»¤ μ™„μ ν’: 2900μ›
- λ―Έλ‹μ•„ν¬λ¦΄ μ‰μ΄μ»¤ νμΈ : 350μ›

**μΉ΄λΌλΉ„λ„**
- μ•„ν¬λ¦΄ μΉ΄λΌλΉ„λ„ ν¬λ… 5T: 2800μ›
- μ•„ν¬λ¦΄ μΉ΄λΌλΉ„λ„ νμ¤ν…” 4T: 1500μ›

**κ±°μΈ(λ―Έλ¬)**
- κ²¨μΈ μ†κ±°μΈ: 2700μ›
- κ²¨μΈ μ•„ν¬λ¦΄ (μ€κ²½/λ―Έλ¬): 1700μ›

**μμ„/λ±ƒμ§€/μ½”μ¤ν„°**
- ν¬λ… μ•„ν¬λ¦΄μμ„: 1700μ›
- μ•„ν¬λ¦΄μμ„ μ£Όλ¬Έμ μ‘: 1500μ›
- μ•„ν¬λ¦΄μμ„(λμ¶ν•): 1500μ›
- μ•„ν¬λ¦΄ μμ¦μ°Έ: 1300μ›
- μ•„ν¬λ¦΄ μ½”μ¤ν„° μ•„μ¤ν…”: 2700μ›
- ν¬λ… μ½”μ¤ν„° μ•„ν¬λ¦΄: 2700μ›
- λ±ƒμ§€ λ°°μ§€ λ…μ°°: 1300μ›

**λ¬Έκµ¬λ¥**
- μ•„ν¬λ¦΄ λ³Όν: 1700μ›
- μ μƒ‰ μ•„ν¬λ¦΄ λ³Όν: 1500μ›
- ν¬λ… μ•„ν¬λ¦΄ μ±…κ°ν”Ό: 1900μ›
- μ•„ν¬λ¦΄μ§‘κ² 3T: 1700μ›
- μμ„ν• μ•„ν¬λ¦΄μ§‘κ²: 2400μ›
- μ•„ν¬λ¦΄μ§‘κ² μ™€μ΄λ“: 2200μ›
- μ–‘μ½/ν•μ½ μ•„ν¬λ¦΄μ§‘κ²: 1700μ›
- μ•„ν¬λ¦΄ μ(μ£λ€): 1700μ›
- λ¶μ¤νƒ λ“ μ•„ν¬λ¦΄ μ±…κ±°μΉλ€: 7600μ›

**μ•„ν¬λ¦΄ μ¬λ‹¨**
- μ•„ν¬λ¦΄ μ¬λ‹¨ (λ‹¨μν•): 250μ›
- μ•„ν¬λ¦΄ μ¬λ‹¨ (λ³µμ΅ν•): 400μ›

### π³ μ°λ“ (Wood)
- μ°λ“ν‚¤λ§: 1200μ›
- μ°λ“ μμ„: 1800μ›
- μ°λ“μ¤νƒ λ“: 1300μ›

### π”— λμ•Όλ“ (Lanyard)
- μ¤νΈλ©ν‚¤λ§ λμ•Όλ“: 2100μ›
- λ―Έλ‹ μ¤νΈλ© ν‚¤λ§: 1100μ›
- λ„¥ μ¤νΈλ© λ©κ±Έμ΄μ¤„: 1800μ›
- ν•Έλ“ν° μ¤νΈλ©: 1500μ›

### π“¦ ν¬μ¥/λ¶€μμ¬

**μ¤μ™€μΉ**
- ν¬λ…/ν•ν”„λ―Έλ¬/ν™€λ΅κ·Έλ¨ μ¤μ™€μΉ: 3000μ›
- λ®¤νΈ μ¤μ™€μΉ: 3000μ›
- νμ¤ν…” μ–‘λ©΄ μ•„μ¤ν…” μ¤μ™€μΉ: 3000μ›
- μκ° μ¤μ™€μΉ: 3000μ›
- μ•„μ¤ν…” μ¤μ™€μΉ: 3000μ›
- κΈ€λ¦¬ν„° μ¤μ™€μΉ: 3000μ›
- λ¶ν¬λ… μ¤μ™€μΉ: 3000μ›

**λ¶€μμ¬ (ν‚¤λ§ ν•λ“μ›¨μ–΄)**
- ν•νΈ ν‚¤λ§ λ¶€μμ¬: 500μ›
- λ³„ ν‚¤λ§ λ¶€μμ¬: 500μ›
- λ‹¬ ν‚¤λ§ λ¶€μμ¬: 500μ›
- λ―Όμλ§ ν‚¤λ§ λ¶€μμ¬: 300μ›
- κΈ°λ³Έλ§ ν‚¤λ§ λ¶€μμ¬: 200μ›
- μλ¬Όμ‡  νμ „ ν‚¤λ§ λ¶€μμ¬: 500μ›

**ν¬μ¥μ¬**
- λ°°κ²½μ§€ μ μ‘ ν¬μ¥: 21000μ›
- λΈ”λ¦¬μ¤ν„°: 200μ›
- ν—¤λ” OPP λ΄‰ν¬ 70x90: 100μ›
- ν—¤λ” OPP λ΄‰ν¬ 90x120: 100μ›
- OPP λ΄‰ν¬(μ•λ‚΄ λ¬Έκµ¬) 90x120: 100μ›
- OPP λ΄‰ν¬ 60x120: 100μ›
- OPP λ΄‰ν¬ 70x90: 100μ›
- OPP λ΄‰ν¬ 70x150: 100μ›
- OPP λ΄‰ν¬ 80x100: 100μ›

Keep your answers concise and helpful.

User query: {{{input}}}`,
});

export async function chat(input: string): Promise<string> {
  const llmResponse = await prompt(input);
  const response = llmResponse.output || 'μ£„μ†΅ν•©λ‹λ‹¤. λ‹µλ³€μ„ μƒμ„±ν•  μ μ—†μµλ‹λ‹¤.';
  return response;
}
